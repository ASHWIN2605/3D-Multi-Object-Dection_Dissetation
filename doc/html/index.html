<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Depth Clustering: Depth Clustering</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_doxy_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Depth Clustering
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Depth Clustering </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Ubuntu 14.04</p>
<p><a href="https://travis-ci.org/PRBonn/depth_clustering"></a> <a href="https://www.codacy.com/project/zabugr/depth_clustering/dashboard?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=PRBonn/depth_clustering&amp;amp;utm_campaign=Badge_Grade_Dashboard"></a> <a href="https://coveralls.io/github/PRBonn/depth_clustering"></a></p>
<p>This is a fast and robust algorithm to segment point clouds taken with Velodyne sensor into objects. It works with all available Velodyne sensors, i.e. 16, 32 and 64 beam ones.</p>
<p>Check out a video that shows all objects outlined in orange: <a href="https://www.youtube.com/watch?v=UXHX9kFGXfg" title="Segmentation">html doc/pics/depth_clustering_new_short_1.gif "Segmentation illustration"</a></p>
<h2>Prerequisites</h2>
<p>I recommend using a virtual environment in your catkin workspace (<code>&lt;catkin_ws&gt;</code> in this readme) and will assume that you have it set up throughout this readme. Please update your commands accordingly if needed. I will be using <code>pipenv</code> that you can install with <code>pip</code>.</p>
<h3>Set up workspace and catkin</h3>
<p>Regardless of your system you will need to do the following steps: </p><div class="fragment"><div class="line">cd &lt;catkin_ws&gt;            # navigate to the workspace</div><div class="line">pipenv shell --fancy      # start a virtual environment</div><div class="line">pip install catkin-tools  # install catkin-tools for building</div><div class="line">mkdir src                 # create src dir if you don&#39;t have it already</div><div class="line"># Now you just need to clone the repo:</div><div class="line">git clone https://github.com/PRBonn/depth_clustering src/depth_clustering</div></div><!-- fragment --><h3>System requirements</h3>
<p>You will need OpenCV, QGLViewer, FreeGLUT, QT4 or QT5 and optionally PCL and/or ROS. The following sections contain an installation command for various Ubuntu systems (click folds to expand):</p>
<p>&lt;details&gt;</p>
<h4>Install these packages:</h4>
<div class="fragment"><div class="line">sudo apt install libopencv-dev libqglviewer-dev freeglut3-dev libqt4-dev</div></div><!-- fragment --><p> &lt;/details&gt;</p>
<p>&lt;details&gt; </p>
<p>Ubuntu 16.04</p>
<h4>Install these packages:</h4>
<div class="fragment"><div class="line">sudo apt install libopencv-dev libqglviewer-dev freeglut3-dev libqt5-dev</div></div><!-- fragment --><p> &lt;/details&gt;</p>
<p>&lt;details&gt; </p>
<p>Ubuntu 18.04</p>
<h4>Install these packages:</h4>
<div class="fragment"><div class="line">sudo apt install libopencv-dev libqglviewer-dev-qt5 freeglut3-dev qtbase5-dev </div></div><!-- fragment --><p> &lt;/details&gt;</p>
<h3>Optional requirements</h3>
<p>If you want to use PCL clouds and/or use ROS for data acquisition you can install the following:</p><ul>
<li>(optional) PCL - needed for saving clouds to disk</li>
<li>(optional) ROS - needed for subscribing to topics</li>
</ul>
<h2>How to build?</h2>
<p>This is a catkin package. So we assume that the code is in a catkin workspace and CMake knows about the existence of Catkin. It should be already taken care of if you followed the instructions <a href="#set-up-workspace-and-catkin">here</a>. Then you can build it from the project folder:</p>
<div class="fragment"><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake ..</div><div class="line">make -j4</div><div class="line">ctest -VV  # run unit tests, optional</div></div><!-- fragment --><p>It can also be built with <code>catkin_tools</code> if the code is inside catkin workspace:</p>
<div class="fragment"><div class="line">catkin build depth_clustering</div></div><!-- fragment --><p>P.S. in case you don't use <code>catkin build</code> you <a href="https://catkin-tools.readthedocs.io/en/latest/installing.html">should</a> reconsider your decision.</p>
<h2>How to run?</h2>
<p>See <a href="examples/">examples</a>. There are ROS nodes as well as standalone binaries. Examples include showing axis oriented bounding boxes around found objects (these start with <code>show_objects_</code> prefix) as well as a node to save all segments to disk. The examples should be easy to tweak for your needs.</p>
<h2>Run on real world data</h2>
<p>Go to folder with binaries: </p><div class="fragment"><div class="line">cd &lt;path_to_project&gt;/build/devel/lib/depth_clustering</div></div><!-- fragment --><h4>Frank Moosmann's "Velodyne SLAM" Dataset</h4>
<p>Get the data: </p><div class="fragment"><div class="line">mkdir data/; wget http://www.mrt.kit.edu/z/publ/download/velodyneslam/data/scenario1.zip -O data/moosmann.zip; unzip data/moosmann.zip -d data/; rm data/moosmann.zip</div></div><!-- fragment --><p>Run a binary to show detected objects: </p><div class="fragment"><div class="line">./show_objects_moosmann --path data/scenario1/</div></div><!-- fragment --><p>Alternatively, you can run the data from Qt GUI (as in video): </p><div class="fragment"><div class="line">./qt_gui_app</div></div><!-- fragment --><p> Once the GUI is shown, click on <code>OpenFolder</code> button and choose the folder where you have unpacked the <code>png</code> files, e.g. <code>data/scenario1/</code>. Navigate the viewer with arrows and controls seen on screen.</p>
<h4>Other data</h4>
<p>There are also examples on how to run the processing on KITTI data and on ROS input. Follow the <code>--help</code> output of each of the examples for more details.</p>
<p>Also you can load the data from the GUI. Make sure you are loading files with correct extension (<code>*.txt</code> and <code>*.bin</code> for KITTI, <code>*.png</code> for Moosmann's data).</p>
<h2>Documentation</h2>
<p>You should be able to get Doxygen documentation by running: </p><div class="fragment"><div class="line">cd doc/</div><div class="line">doxygen Doxyfile.conf</div></div><!-- fragment --><h2>Related publications</h2>
<p>Please cite related papers if you use this code:</p>
<div class="fragment"><div class="line">@InProceedings{bogoslavskyi16iros,</div><div class="line">title     = {Fast Range Image-Based Segmentation of Sparse 3D Laser Scans for Online Operation},</div><div class="line">author    = {I. Bogoslavskyi and C. Stachniss},</div><div class="line">booktitle = {Proc. of The International Conference on Intelligent Robots and Systems (IROS)},</div><div class="line">year      = {2016},</div><div class="line">url       = {http://www.ipb.uni-bonn.de/pdfs/bogoslavskyi16iros.pdf}</div><div class="line">}</div></div><!-- fragment --><div class="fragment"><div class="line">@Article{bogoslavskyi17pfg,</div><div class="line">title   = {Efficient Online Segmentation for Sparse 3D Laser Scans},</div><div class="line">author  = {I. Bogoslavskyi and C. Stachniss},</div><div class="line">journal = {PFG -- Journal of Photogrammetry, Remote Sensing and Geoinformation Science},</div><div class="line">year    = {2017},</div><div class="line">pages   = {1--12},</div><div class="line">url     = {https://link.springer.com/article/10.1007%2Fs41064-016-0003-y},</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jul 27 2020 23:07:26 for Depth Clustering by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
